<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:hc="https://handyorg.github.io/handycontrol"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    xmlns:view="clr-namespace:QuickerActionManage.View"
    xmlns:behaviors="clr-namespace:QuickerActionManage.View.Behaviors"
    xmlns:editor="clr-namespace:QuickerActionManage.View.Editor"
    xmlns:converters="clr-namespace:QuickerActionManage.View.Converters">
    <!-- Converters -->
    <converters:DateTimeShortConverter x:Key="DateTimeShortConverter" />
    <converters:Object2VisibilityConverter x:Key="Object2VisibilityConverter" />
    <converters:Object2VisibilityReConverter x:Key="Object2VisibilityReConverter" />
    <converters:ObjectToBoolConverter x:Key="ObjectToBoolConverter" />
    <converters:EqualityToVisibilityConverter x:Key="EqualityToVisibilityConverter" />
    
    <!-- Enum Converters -->
    <editor:EnumValueToDisplayDescriptionConverter x:Key="EnumValueToDisplayDescriptionConverter" />
    <editor:EnumValueToDisplayNameConverter x:Key="EnumValueToDisplayNameConverter" />
    <!-- Menu Icon Color -->
    <SolidColorBrush x:Key="DefaultMenuIconColor" Color="#FF7AC4EB" />
    <sys:String x:Key="DefaultMenuIconColorString">#FF7AC4EB</sys:String>
    
    <!-- Global Subprogram Icon -->
    <sys:String x:Key="GlobalSubProgramIcon">https://files.getquicker.net/_icons/5227FAB6715571B238CE8A715B9837596861983A.png</sys:String>
    
    <!-- PropertyGrid Styles -->
    <Style BasedOn="{StaticResource PropertyGridBaseStyle}" TargetType="{x:Type editor:PropertyGridPlus}" />
    
    <Style x:Key="MyPropertyItemsControlStyle1" TargetType="hc:PropertyItemsControl">
        <Setter Property="ItemContainerStyle" Value="{StaticResource PropertyItemBaseStyle}" />
        <Setter Property="Focusable" Value="False" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="hc:PropertyItemsControl">
                    <ItemsPresenter />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
    <Style x:Key="MyPropertyGridStyle1" TargetType="editor:PropertyGridPlus">
        <Setter Property="MaxTitleWidth" Value="100" />
        <Setter Property="MinTitleWidth" Value="100" />
        <Setter Property="Focusable" Value="False" />
        <Setter Property="Padding" Value="10" />
        <Setter Property="Background" Value="{DynamicResource RegionBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="hc:PropertyGrid">
                    <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid Margin="{TemplateBinding Padding}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <DockPanel Margin="0,0,0,6" LastChildFill="True">
                                <hc:SearchBar x:Name="PART_SearchBar" IsRealTime="True" Style="{StaticResource SearchBarPlus}" />
                            </DockPanel>
                            <hc:PropertyItemsControl x:Name="PART_ItemsControl" Grid.Row="1" Style="{StaticResource MyPropertyItemsControlStyle1}">
                                <hc:PropertyItemsControl.GroupStyle>
                                    <GroupStyle ContainerStyle="{StaticResource PropertyGroupItemBaseStyle}" />
                                </hc:PropertyItemsControl.GroupStyle>
                            </hc:PropertyItemsControl>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
    <!-- PopupBorderStyle - Must be defined before PopupButtonControl style -->
    <Style x:Key="PopupBorderStyle" TargetType="Border">
        <Setter Property="Margin" Value="10" />
        <Setter Property="Padding" Value="10" />
        <Setter Property="Background" Value="{DynamicResource RegionBrush}" />
        <Setter Property="BorderBrush" Value="#c0c0c0" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Effect" Value="{StaticResource EffectShadow3}" />
        <Setter Property="SnapsToDevicePixels" Value="True" />
    </Style>
    
    <!-- PopupButtonControl Style -->
    <Style TargetType="{x:Type view:PopupButtonControl}">
        <Setter Property="Padding" Value="10,5" />
        <Setter Property="ToggleButtonStyle" Value="{StaticResource ToggleButtonDefault}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type view:PopupButtonControl}">
                    <Grid UseLayoutRounding="True">
                        <ToggleButton
                            x:Name="PART_ToggleButton"
                            MaxWidth="{TemplateBinding MaxWidth}"
                            MaxHeight="{TemplateBinding MaxHeight}"
                            Padding="{TemplateBinding Padding}"
                            Content="{TemplateBinding Header}"
                            IsChecked="{Binding IsChecked, RelativeSource={RelativeSource Mode=TemplatedParent}}"
                            Style="{TemplateBinding ToggleButtonStyle}" />
                        <Popup
                            x:Name="PART_Popup"
                            AllowsTransparency="True"
                            IsOpen="{Binding IsChecked, RelativeSource={RelativeSource Mode=TemplatedParent}}"
                            PlacementTarget="{Binding ElementName=PART_ToggleButton}"
                            StaysOpen="False">
                            <hc:Interaction.Behaviors>
                                <behaviors:PopupOpenedBehavior />
                            </hc:Interaction.Behaviors>
                            <Border Style="{StaticResource PopupBorderStyle}">
                                <ContentPresenter Content="{TemplateBinding Content}" />
                            </Border>
                        </Popup>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
    <!-- ListItemHoverContent Style -->
    <Style x:Key="ListItemHoverContent" TargetType="{x:Type FrameworkElement}">
        <Setter Property="Visibility" Value="Collapsed" />
        <Style.Triggers>
            <DataTrigger Binding="{Binding Path=IsMouseOver, RelativeSource={RelativeSource AncestorType=ListBoxItem}}" Value="True">
                <Setter Property="Visibility" Value="Visible" />
            </DataTrigger>
        </Style.Triggers>
    </Style>
</ResourceDictionary>

